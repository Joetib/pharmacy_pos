{% extends 'base.html' %}

{% block content %}
<div class="container-fluid">
    <div class="container">
        <h2 class="display-4">SHOP HISTORY</h2>
    </div>
    <hr>
    <br>
    <div class="row">

        <div class="col-md-7">
            <div class="container">
                <h2 class="display-5">SALES</h2>
            </div>
            <table class="table shadow table-striped">
                <thead class="bg-dark text-white">
                    <tr>
                        <th> Date </th>
                        <th> Customer </th>
                        <th> Items Sold </th>
                        <th> Qty </th>
                        <th>Total Sales</th>
                    </tr>
                </thead>
                <tbody>
                    {% for purchase in purchases %}
                    <tr>
                        <td>{{ purchase.date }}</td>
                        <td>{{ purchase.customer }}</td>
                        <td>
                            <ol>
                                {% for itempurchase in purchase.item_purchases.all %}
                                <li>{{ itempurchase.product }}</li>
                                {% endfor %}
                            </ol>
                        </td>
                        <td>
                            <ol class="list-unstyled">
                                {% for itempurchase in purchase.item_purchases.all %}
                                <li>{{ itempurchase.quantity }}</li>
                                {% endfor %}
                            </ol>
                        </td>

                        <td><b> Ghc {{ purchase.total_amount }}</b></td>

                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6">
                            <h1>There are no purchases at the moment...</h2>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="col-md-5">
            <div class="container">
                <h2 class="display-5">EXPENSES</h2>
            </div>
            <table class="table shadow table-striped">
                <thead class="bg-dark text-white">
                    <tr>
                        <th> Date </th>
                        <th> Description </th>
                        <th> Amount </th>
                    </tr>
                </thead>
                <tbody>
                    {% for expense in expenses %}
                    <tr>
                       <td>{{ expense.date }}</td> 
                    
                        <td>{{ expense.description }}</td>
                    
                        <td>{{ expense.amount }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7">
                            <h1>There are no Expenses</h2>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}